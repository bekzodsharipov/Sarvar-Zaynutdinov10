document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".registerBtn"),t=document.getElementById("registrationModal"),n=document.getElementById("closeModalBtn"),o=document.querySelector(".homeModalOverlay"),l=document.getElementById("registrationForm"),d=document.getElementById("name"),a=document.getElementById("nameError"),r=document.getElementById("phone"),i=document.getElementById("phoneError"),c=document.getElementById("submitBtn"),s=window.phoneFormatter;let m=!1,u=0;function y(){t&&(m=!0,u=window.scrollY,t.style.display="block",document.body.style.overflow="hidden",a.style.display="none",i.style.display="none")}function v(){t&&m&&(m=!1,t.style.display="none",document.body.style.overflow="",document.body.style.position="",document.body.style.top="",window.scrollTo(0,u))}e.forEach((e=>e.addEventListener("click",y))),n&&n.addEventListener("click",v),o&&o.addEventListener("click",v),l.addEventListener("submit",(function(e){if(e.preventDefault(),!s)return console.error("phoneFormatter is not initialized. Check formatter.js load order and p/g variables."),void(i.style.display="block");const t=d.value.trim(),n=r.value.trim();let o=!1;if(t?a.style.display="none":(a.style.display="block",o=!0),s.validate(n)?i.style.display="none":(i.style.display="block",o=!0),o)return;c.textContent="YUBORILMOQDA...",c.disabled=!0;const l=new Date,m=l.toLocaleDateString("uz-UZ"),u=l.toLocaleTimeString("uz-UZ"),y={Ism:t,TelefonRaqam:s.getCurrentCode()+" "+n,SanaSoat:m+" - "+u,Lavozim:document.getElementById("position").value,Faoliyat:document.getElementById("activityField").value,Seminar:document.querySelector('input[name="seminar"]:checked')?.value};localStorage.setItem("formData",JSON.stringify(y)),window.location.href="/thankYou.html",c.textContent="DAVOM ETISH",c.disabled=!1,d.value="",r.value="",v()}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("timer");if(!e)return;let t=120;const n=setInterval((()=>{const o=Math.floor(t/60),l=t%60;e.textContent=String(o).padStart(2,"0")+":"+String(l).padStart(2,"0"),0!==t?t--:clearInterval(n)}),1e3)}));